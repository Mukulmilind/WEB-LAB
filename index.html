<?xml version = "1.0" encoding = "utf-8" ?>
<!DOCTYPE html PUBLIC"-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns = "http://www.w3.org/1999/xhtml">
	<head><title>Validator</title>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="shortcut icon" type="favicon/ico" href="../image/icon2b.png">
  	<link rel="stylesheet" type="text/css" href="../bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" >	
	<script type='text/javascript'>
		function formValidator()
		{ 
			var usn = document.getElementById('req1');
			var sem = document.getElementById('req2');
			if(isCorrect(usn))
			{ 
				if(isPerfect(usn,sem))
				return true;
			}
			return false;
		}
		function isPerfect(elem3,elem2)
		{ 
			var alphaExp2 = /^[1-8]$/
			if(elem2.value.length == 0)
			{ 
				alert("Semester field is EMPTY !!");
				elem2.focus();
				return false;
			}
			else if(!elem2.value.match(alphaExp2))
			{ 
				alert("Semester is INCORRECT");
				elem2.focus();
				return false;
			}
			var year="20";
			year += elem3.value.substring(3,5);
			var now = new Date();
			var yy = now.getFullYear();
			var mm = now.getMonth();
			mm++;
			var sem = (yy-year)*2;
			if(mm>=8)
			{
				sem += 1;
			}
			if(elem2.value == sem)
			{
				alert("Semester is CORRECT");
				return true;
			}
			else
			{
				alert("You don't even know your present semeter !!");
				elem2.focus();
				return false;
			}
		}
		function isCorrect(elem1)
		{
			var alphaExp1 = /^[1-4][A-Z][A-Z][0-9][0-9][A-Z][A-Z][0-9][0-9][0-9]$/
			if(elem1.value.length == 0)
			{
				alert("USN is EMPTY");
				elem1.focus();
				return false;
			}
			else if(!elem1.value.match(alphaExp1))
			{
				alert("USN is INCORRECT");
				elem1.focus();
				return false; 
			}
			alert("USN is CORRECT");
			return true;
		}
	</script>
	</head>
	<body background="bg.jpg" style="padding:100px 50px 0px 50px;">
		<div class="container" style="width:60%;">
		<div class="well" >
		<form onsubmit='return formValidator()'  class="form-horizontal">
  			<fieldset>
		    <legend>USN and SEMESTER Validator &mdash;</legend>
		    <div class="form-group">
	     		<label for="req1" class="col-lg-2 control-label">Enter USN : </label>
	   			<div class="col-lg-8">
	   				<input type="text" class="form-control" id="req1" placeholder="Enter your USN. in 'DAADDAADDD' format">
      			</div>
    		</div>

    		<div class="form-group">
	     		<label for="req2" class="col-lg-2 control-label">Enter SEM : </label>
	   			<div class="col-lg-8">
	   				<input type="text" class="form-control" id="req2" placeholder="Enter your current semeter">
      			</div>
    		</div>

    		<div class="form-group">
	    		<div class="col-lg-8 col-lg-offset-2">
        			<button type="submit" class="btn btn-primary">Check</button>
    	    		<button type="reset" class="btn btn-default">Reset</button>
      			</div>
    		</div>

		</form>
		<nav class="navbar navbar-default navbar-fixed-bottom" style="width:auto">
			<div class="container" align="center"><p class="text-muted">&copy; Made by Mukul Milind Mishra, BMSIT, Bangalore, India<br>Mail at :<a href="http://www.gmail.com" target="blank">mukulmilind23@gmail.com</a></p>
			</div>
		</nav>	
	</body>
</html>
